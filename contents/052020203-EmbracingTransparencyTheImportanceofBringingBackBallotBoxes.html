<!DOCTYPE html>
<html lang="ml">
  <head>
    <title></title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="robots" content="index,archive,follow" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0 user-scalable=yes" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta property="og:type" content="article" />
    <meta property="og:image" content="" />
    <meta property="og:site_name" content="" />
    <meta property="og:url" content="" />
    <link rel="canonical" href="" />
    <link rel="icon" type="image/png" sizes="32x32" href="../../assets/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../assets/images/favicon/favicon-16x16.png">
    <link rel="mask-icon" href="../../assets/images/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="../../assets/scripts/cs.js" defer></script>
    <script> var articleId = 44;</script>
    <script src="../../assets/scripts/mmmb-api.js" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="../../assets/css/mmmb.css" type="text/css" />
    <link rel="stylesheet" href="../../assets/css/nyt.css" type="text/css" />
    <link rel="stylesheet" href="../../assets/css/font.css" type="text/css" />
    <link rel="stylesheet" href="../../assets/css/article.css" type="text/css" />
    <link rel="stylesheet" href="../../assets/css/sidebar.css" type="text/css" />   
  </head>
  <body>
    <div id="header"></div>    
    <div class="mm-container-fluid">
      <div class="mm-row">
          <div class="mm-container">
              <div class="wrapper">
                  <div class="left-column">
                      <div class="artitle"><h1></h1></div>
                      <div class="featimaged"><img alt="" src="" /></div>
                      <div><hr></div>
                      <div class="artdate"><p></p></div>
                      <div><hr></div>
                      <div class="artbody"></div>
                      <div><hr></div>
                      <div class="author-box">
                          <div class="author-info">
                              <div class="author-image"><img src="" alt=""></div>
                              <h3 class="author-name"></h3>
                              <p class="author-bio"></p>
                              <div class="author-social">
                                  <a href="" target="_blank"><i class="fab fa-facebook-f rounded-icon"></i></a>
                                  <a href="" target="_blank"><i class="fab fa-twitter rounded-icon"></i></a>
                                  <a href="" target="_blank"><i class="fab fa-linkedin-in rounded-icon"></i></a>
                              </div>
                              <div><hr></div>
                              <p id="policy"></p>
                          </div>
                      </div>
                      <div class="tracedata">
                          <div class="category"><p></p></div>
                          <div class="arttags"><p></p></div>
                          <div class="authorid"><p></p></div>
                          <div class="vuukleid"><p></p></div>
                          <div class="articleid"><p></p></div>  
                      </div>
                      <div><hr></div>
                      <div class="vuukle">
                          <div class="vuukle-sharebar"></div>
                          <div id="vuukle-comments"></div>
                      </div>                    
                  </div>
                  <script>
                    var articlesUrl = '/data/articles.json';
                    var authorUrl = '/data/author.json';
                
                    fetch(articlesUrl)
                    .then(function(response) {
                        return response.json();
                    })
                    .then(function(dataA) {
                        var articleData = dataA.find(function(article) {
                            return article.article_id === articleId;
                        });
                
                        if (!articleData) {
                            console.error('Article not found');
                            return;
                        }
                
                        // Fetch data from JSONFILEB
                        fetch(authorUrl)
                            .then(function(response) {
                                return response.json();
                            })
                            .then(function(dataB) {
                                var authorData = dataB.find(function(author) {
                                    return author.author_id === articleData.author_id;
                                });
                
                                if (!authorData) {
                                    console.error('Author not found');
                                    return;
                                }
                
                                // Assign the key values from JSONFILEA and JSONFILEB to global variables
                                var vutitle = articleData.title;
                                var vucategory = articleData.category;
                                var vutags = articleData.tags;
                                var vuarticle_url = "https://malayalamathrumanobhumi.netlify.app" + articleData.article_url;
                                var vucfeatured_small_image_Url = articleData.featured_small_image_Url;
                                var vuvukkle_id = articleData.vukkle_id;
                                var vuauthor_name = authorData.author_name;
                
                                // Remove any leading periods from the article URL
                                vuarticle_url = "https://malayalamathrumanobhumi.netlify.app" + articleData.article_url.slice(1);
                                vucfeatured_small_image_Url = "https://malayalamathrumanobhumi.netlify.app" + articleData.featured_small_image_Url;
                
                                // Define the VUUKLE_CONFIG object
                                window.VUUKLE_CONFIG = {
                                    "apiKey": "808ea6bb-acc3-400b-b7f5-59f0fa8592ac",
                                    "host": "https://malayalamathrumanobhumi.netlify.app",
                                    "articleId": vuvukkle_id,
                                    "img": vucfeatured_small_image_Url,
                                    "tags": vutags,
                                    "url": vuarticle_url,
                                    "title": vutitle,
                                    "author": vuauthor_name,
                                    "language": "ml",
                                    "recommendedArticles": true,
                                    "globalRecommendations": true,
                                    "wideImages": true,
                                    "comments": {
                                        "enabled": true,
                                        "editorOptions": [
                                            "gif",
                                            "image"
                                        ],
                                        "transliteration": {
                                            "language": "ml",
                                            "enabledByDefault": true
                                        },
                                        "commentingClosed": false,
                                        "countToLoad": "50"
                                    },
                                    "emotes": {
                                        "enabled": false,
                                        "disable": [
                                            5,
                                            6
                                        ]
                                    },
                                    "sharebar": {
                                        "enabled": true,
                                        "verticalPosition": "10px",
                                        "mode": "horizontal"
                                    }
                                };
                
                                // Print the "url" property with the domain prepended to the console
                                // console.log(VUUKLE_CONFIG);
                
                                // Check if Vuukle library is already loaded
                                if (typeof Vuukle === 'undefined') {
                                    // Include the platform.js script
                                    var script = document.createElement('script');
                                    script.src = 'https://cdn.vuukle.com/platform.js';
                                    (document.head || document.body).appendChild(script);
                                } else {
                                    // Vuukle library is already loaded, manually initialize it
                                    if (window.vukkle) {
                                        window.vukkle.init(VUUKLE_CONFIG);
                                    }
                                }
                            })
                            .catch(function(error) {
                                console.error('Error fetching data from JSONFILEB:', error);
                            });
                    })
                    .catch(function(error) {
                        console.error('Error fetching data from JSONFILEA:', error);
                    });
                </script> 
                  <div class="right-column">
                      <div class="sidebar"></div>
                  </div>
              </div>
          </div>
      </div>
  </div>
    <div id="footer"></div>
    <script src="../../assets/scripts/script.js"></script>
  </body> 
</html>