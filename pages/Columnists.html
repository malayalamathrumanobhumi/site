<!DOCTYPE html>
<html lang="ml">
  <head>
    <title>കോളമിസ്റ്റ് | മലയാളമാതൃ മനോഭൂമി</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="robots" content="index,archive,follow" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0 user-scalable=yes" />
    <meta name="description" content="ജനങ്ങൾക്കു സ്വതന്ത്രമായി ചിന്തിക്കാനും, പ്രകടിപ്പിക്കാനും, രീതികളും, ശൈലികളും നവീകരിക്കാനും ഉള്ള ഇടം." />
    <meta name="keywords" content="മലയാളം, ജനം, ജനാധിപത്യം" />
    <meta property="og:type" content="page" />
    <meta property="og:image" content="/assets/images/og/mmbm-og.png" />
    <meta property="og:site_name" content="മലയാളമാതൃ മനോഭൂമി" />
    <meta property="og:url" content="ജനങ്ങൾക്കു സ്വതന്ത്രമായി ചിന്തിക്കാനും, പ്രകടിപ്പിക്കാനും, രീതികളും, ശൈലികളും നവീകരിക്കാനും ഉള്ള ഇടം." />
    <link rel="canonical" href="https://malayalamathrumanobhumi.netlify.app/pages/Columnists" />
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon/favicon-16x16.png">
    <link rel="mask-icon" href="/assets/images/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="stylesheet" href="/assets/css/mmmb.css" type="text/css" />
    <link rel="stylesheet" href="/assets/css/columnist.css" type="text/css" />
    <link rel="stylesheet" href="/assets/css/nyt.css" type="text/css" />
    <link rel="stylesheet" href="/assets/css/font.css" type="text/css" />
    <link rel="stylesheet" href="/assets/css/author.css" type="text/css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="/assets/scripts/ps.js"></script> 
    <script src="/assets/scripts/script.js"></script>    
  </head>
  <body>
    <div id="header"></div>
    <div class="mm-container-fluid">
      <div class="mm-row">
          <div class="mm-container">
            <div class="columnist">
              <p>അഭിപ്രായം പറയുന്ന ജനങ്ങൾ</p>
              <hr>
            </div>
              <div class="wrapper">
                
                <div>
                  <div class="author-container"></div>
                </div>
                
                     
                <script>
                    // Fetching data from articles.json
                    fetch('/data/articles.json')
                        .then(response => response.json())
                        .then(articlesData => {
                            const authorsCount = {};
                
                            // Counting articles for each author
                            articlesData.forEach(article => {
                                const authorId = article.author_id;
                                authorsCount[authorId] = (authorsCount[authorId] || 0) + 1;
                            });
                
                            // Sorting authors based on article count
                            const sortedAuthors = Object.keys(authorsCount).sort((a, b) => authorsCount[b] - authorsCount[a]);
                
                            const authorContainer = document.querySelector('.author-container');
                
                            // Rendering author cards
                            sortedAuthors.forEach(authorId => {
                                // Fetching author data for each author
                                fetch('/data/author.json')
                                    .then(response => response.json())
                                    .then(authorsData => {
                                        const authorData = authorsData.find(author => author.author_id === parseInt(authorId));
                
                                        if (authorData) {
                                            const { author_name, 'e-mail': email, Bio, Image_URL, Place } = authorData;
                
                                            // Creating author card HTML
                                            const authorCard = document.createElement('div');
                                            authorCard.classList.add('author-card');
                                            authorCard.innerHTML = `
                                                <div class="card-container">
                                                    <span class="pro"></span>
                                                    <img class="round" src="${Image_URL}" alt="${author_name}" />
                                                    <h3>${author_name}</h3>
                                                    <h6>${Place}</h6>
                                                    <p>${Bio}</p>
                                                    <div class="buttons">
                                                        <a class="primary" href="/pages/author.html?authorId=${authorId}">${authorsCount[authorId]}</a>
                                                        <a href="mailto:${email}" class="primary ghost">ഇ-മെയിൽ</a>
                                                    </div>
                                                </div>
                                            `;
                                            authorContainer.appendChild(authorCard);
                                        }
                                    });
                            });
                        });
                </script>
              </div>
          </div>
      </div>
  </div>
    <div id="footer"></div>
  </body>
</html>